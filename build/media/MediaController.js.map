{"version":3,"sources":["../../src/media/MediaController.js"],"names":["fs","require","MEDIA","__dirname","Media","MediaController","getMedia","req","res","img","params","find","userId","user","console","log","readFile","err","data","c","Buffer","from","toString","set","send","module","exports"],"mappings":"AAAA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,QAAS,GAAEC,SAAU,EAA3B;AACA,MAAMC,QAAQH,QAAQ,cAAR,CAAd;;AAGA,MAAMI,kBAAkB;AACpBC,cAAS,CAACC,GAAD,EAAMC,GAAN,KAAc;;AAEnB,cAAM,EAACC,GAAD,KAAQF,IAAIG,MAAlB;AACAN,cAAMO,IAAN,CAAW,EAACC,QAAQL,IAAIM,IAAb,EAAX;AACAC,gBAAQC,GAAR,CAAY,MAAZ,EAAoBR,IAAIM,IAAxB;AACAb,WAAGgB,QAAH,CAAa,GAAEd,KAAM,WAAUO,GAAI,EAAnC,EAAsC,CAACQ,GAAD,EAAMC,IAAN,KAAe;AACjD,gBAAID,GAAJ,EAAS;AACLH,wBAAQC,GAAR,CAAYE,GAAZ;AACH,aAFD,MAEO;AACH,sBAAME,IAAIC,OAAOC,IAAP,CAAYH,IAAZ,EAAkBI,QAAlB,CAA2B,QAA3B,CAAV;AACAR,wBAAQC,GAAR,CAAY,QAAZ,EAAsBI,CAAtB;AACAX,oBAAIe,GAAJ,CAAQ,cAAR,EAAwB,WAAxB,EAAqCC,IAArC,CAA0CN,IAA1C;AACH;AACJ,SARD;AASH;AAfmB,CAAxB;;AAkBAO,OAAOC,OAAP,GAAiBrB,eAAjB","file":"MediaController.js","sourcesContent":["const fs = require(\"fs\");\nconst MEDIA = `${__dirname}`;\nconst Media = require('./MediaModel');\n\n\nconst MediaController = {\n    getMedia:(req, res) => {\n\n        const {img} = req.params;\n        Media.find({userId: req.user})\n        console.log('user', req.user)\n        fs.readFile(`${MEDIA}/images/${img}`, (err, data) => {\n            if (err) {\n                console.log(err);\n            } else {\n                const c = Buffer.from(data).toString(\"base64\")\n                console.log(\"base64\", c)\n                res.set(\"Content-Type\", \"image/jpg\").send(data)\n            }\n        });\n    },\n}\n\nmodule.exports = MediaController;"]}