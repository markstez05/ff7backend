{"version":3,"sources":["../../src/media/MediaController.js"],"names":["fs","require","MEDIA","__dirname","MediaController","getMedia","req","res","img","params","Media","find","userId","user","console","log","readFile","err","data","c","Buffer","from","toString","set","send"],"mappings":";;;;;;AAGA;;;;;;AAHA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,aAAWC,SAAjB;;AAIA,IAAMC,kBAAkB;AACpBC,cAAS,kBAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,YAEZC,GAFY,GAELF,IAAIG,MAFC,CAEZD,GAFY;;AAGnBE,6BAAMC,IAAN,CAAW,EAACC,QAAQN,IAAIO,IAAb,EAAX;AACAC,gBAAQC,GAAR,CAAY,MAAZ,EAAoBT,IAAIO,IAAxB;AACAb,WAAGgB,QAAH,CAAed,KAAf,gBAA+BM,GAA/B,EAAsC,UAACS,GAAD,EAAMC,IAAN,EAAe;AACjD,gBAAID,GAAJ,EAAS;AACLH,wBAAQC,GAAR,CAAYE,GAAZ;AACH,aAFD,MAEO;AACH,oBAAME,IAAIC,OAAOC,IAAP,CAAYH,IAAZ,EAAkBI,QAAlB,CAA2B,QAA3B,CAAV;AACAR,wBAAQC,GAAR,CAAY,QAAZ,EAAsBI,CAAtB;AACAZ,oBAAIgB,GAAJ,CAAQ,cAAR,EAAwB,WAAxB,EAAqCC,IAArC,CAA0CN,IAA1C;AACH;AACJ,SARD;AASH;AAfmB,CAAxB;;kBAkBed,e","file":"MediaController.js","sourcesContent":["const fs = require(\"fs\");\nconst MEDIA = `${__dirname}`;\n\nimport Media from './MediaModel';\n\nconst MediaController = {\n    getMedia:(req, res) => {\n\n        const {img} = req.params;\n        Media.find({userId: req.user})\n        console.log('user', req.user)\n        fs.readFile(`${MEDIA}/images/${img}`, (err, data) => {\n            if (err) {\n                console.log(err);\n            } else {\n                const c = Buffer.from(data).toString(\"base64\")\n                console.log(\"base64\", c)\n                res.set(\"Content-Type\", \"image/jpg\").send(data)\n            }\n        });\n    },\n}\n\nexport default MediaController;"]}