{"version":3,"sources":["../../src/WorkExp/WorkController.js"],"names":["WorkController","getWork","req","res","Work","find","userId","user","then","status","json","docs","catch","err","createWork","body","workBody","title","location","date","text","newWork","save","doc","send","updateWork","id","params","completed","findOneAndUpdate","_id","$set","deleteWork","findByIdAndRemove","getWorkById","findById"],"mappings":"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","file":"WorkController.js","sourcesContent":["import Work from './WorkModel';\nimport User from '../Users/UserModel';\n\n\nconst WorkController = {\n\n    getWork:(req, res) => {\n        Work.find({userId: req.user})\n        .then(docs => res.status(200).json(docs))\n        .catch(err => res.status(500).json({err: 'could not get work...lel'}))\n    },\n    createWork: (req, res) => {\n        if('title' in req.body && 'location' in req.body && 'date' in req.body && 'text' in req.body) {\n            const workBody = { title: req.body.title, location: req.body.location, date: req.body.date, text: req.body.text, userId: req.user}\n            const newWork = new Work(workBody);\n            newWork.save()\n                .then(doc => res.status(201).json(doc))\n                .catch(err => res.status(500).json({ err: 'something went wrong'}));\n        } else {\n            res.send('title, location, date, text and user are required')\n        }\n    },\n    updateWork: (req, res) => {\n        const { id } = req.params;\n        if('title' in req.body && 'location' in req.body && 'date' in req.body && 'text' in req.body) {\n            const { title, location, date, text, completed } = req.body;\n            Work.findOneAndUpdate({_id: id}, {$set:{title, location, date, text, completed}})\n            .then(doc => res.status(204).json(doc))\n            .catch(err => res.status(500).json({ err: 'something went wrong'}));\n        } else {\n            res.send('title, location, date and text are required');\n        }\n    },\n    deleteWork: (req, res) => {\n        const { id } = req.params;\n        Work.findByIdAndRemove(id)\n        .then(doc => res.status(200).json(doc))\n        .catch(err => res.status(500).json({err: 'failed to delete work'}))\n    },\n    getWorkById: (req, res) => {\n        const { id } = req.params;\n        Work.findById(id)\n        .then(doc => res.status(204).json(doc))\n        .catch(err => res.status(500).json({ err: \"cant yo\"}));\n    }\n}\n\nexport default WorkController;"]}