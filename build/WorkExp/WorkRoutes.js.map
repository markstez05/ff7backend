{"version":3,"sources":["../../src/WorkExp/WorkRoutes.js"],"names":["WorkRouter","express","Router","getWork","WorkController","createWork","updateWork","deleteWork","getWorkById","jwtStrategy","AuthMiddleware","Passport","use","passportOptions","session","checkForToken","authenticate","get","post","put","delete"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAaC,kBAAQC,MAAR,EAAnB;AACA;IACQC,O,GAA6DC,wB,CAA7DD,O;IAASE,U,GAAoDD,wB,CAApDC,U;IAAYC,U,GAAwCF,wB,CAAxCE,U;IAAYC,U,GAA4BH,wB,CAA5BG,U;IAAYC,W,GAAgBJ,wB,CAAhBI,W;AACrD;;IACQC,W,GAAgBC,wB,CAAhBD,W;;AAER;;AACAE,mBAASC,GAAT,CAAaH,WAAb;AACA;AACA,IAAMI,kBAAkB,EAAEC,SAAS,KAAX,EAAxB;AACA;AACA,IAAMC,gBAAgBJ,mBAASK,YAAT,CAAsB,KAAtB,EAA6BH,eAA7B,CAAtB;;AAEAb,WAAWiB,GAAX,CAAe,GAAf,EAAoBF,aAApB,EAAmCZ,OAAnC;AACAH,WAAWkB,IAAX,CAAgB,GAAhB,EAAqBH,aAArB,EAAoCV,UAApC;AACAL,WAAWmB,GAAX,CAAe,MAAf,EAAuBb,UAAvB;AACAN,WAAWoB,MAAX,CAAkB,MAAlB,EAA0Bb,UAA1B;AACAP,WAAWiB,GAAX,CAAe,MAAf,EAAuBT,WAAvB;;kBAEeR,U","file":"WorkRoutes.js","sourcesContent":["import express from 'express';\nimport Passport from 'passport';\nimport WorkController from './WorkController';\nimport AuthMiddleware from '../Middleware/Auth-Middleware';\n\nconst WorkRouter = express.Router();\n// Methods from work controller\nconst { getWork, createWork, updateWork, deleteWork, getWorkById } = WorkController;\n// JWT strat for securing user work\nconst { jwtStrategy } = AuthMiddleware;\n\n//passport global middleware\nPassport.use(jwtStrategy);\n//passport local middleware\nconst passportOptions = { session: false };\n//require JWT strat for accessing work\nconst checkForToken = Passport.authenticate('jwt', passportOptions);\n\nWorkRouter.get('/', checkForToken, getWork);\nWorkRouter.post('/', checkForToken, createWork);\nWorkRouter.put('/:id', updateWork);\nWorkRouter.delete('/:id', deleteWork);\nWorkRouter.get('/:id', getWorkById);\n\nexport default WorkRouter;"]}