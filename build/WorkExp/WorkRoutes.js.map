{"version":3,"sources":["../../src/WorkExp/WorkRoutes.js"],"names":["express","require","Passport","WorkController","AuthMiddleware","WorkRouter","Router","getWork","createWork","updateWork","deleteWork","getWorkById","jwtStrategy","use","passportOptions","session","checkForToken","authenticate","get","post","put","delete","module","exports"],"mappings":"AAAA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,MAAMC,WAAWD,QAAQ,UAAR,CAAjB;AACA,MAAME,iBAAiBF,QAAQ,kBAAR,CAAvB;AACA,MAAMG,iBAAiBH,QAAQ,+BAAR,CAAvB;;AAEA,MAAMI,aAAaL,QAAQM,MAAR,EAAnB;AACA;AACA,MAAM,EAAEC,OAAF,EAAWC,UAAX,EAAuBC,UAAvB,EAAmCC,UAAnC,EAA+CC,WAA/C,KAA+DR,cAArE;AACA;AACA,MAAM,EAAES,WAAF,KAAkBR,cAAxB;;AAEA;AACAF,SAASW,GAAT,CAAaD,WAAb;AACA;AACA,MAAME,kBAAkB,EAAEC,SAAS,KAAX,EAAxB;AACA;AACA,MAAMC,gBAAgBd,SAASe,YAAT,CAAsB,KAAtB,EAA6BH,eAA7B,CAAtB;;AAEAT,WAAWa,GAAX,CAAe,GAAf,EAAoBF,aAApB,EAAmCT,OAAnC;AACAF,WAAWc,IAAX,CAAgB,GAAhB,EAAqBH,aAArB,EAAoCR,UAApC;AACAH,WAAWe,GAAX,CAAe,MAAf,EAAuBX,UAAvB;AACAJ,WAAWgB,MAAX,CAAkB,MAAlB,EAA0BX,UAA1B;AACAL,WAAWa,GAAX,CAAe,MAAf,EAAuBP,WAAvB;;AAEAW,OAAOC,OAAP,GAAiBlB,UAAjB","file":"WorkRoutes.js","sourcesContent":["const express = require('express');\nconst Passport = require('passport');\nconst WorkController = require('./WorkController');\nconst AuthMiddleware = require('../Middleware/Auth-Middleware');\n\nconst WorkRouter = express.Router();\n// Methods from work controller\nconst { getWork, createWork, updateWork, deleteWork, getWorkById } = WorkController;\n// JWT strat for securing user work\nconst { jwtStrategy } = AuthMiddleware;\n\n//passport global middleware\nPassport.use(jwtStrategy);\n//passport local middleware\nconst passportOptions = { session: false };\n//require JWT strat for accessing work\nconst checkForToken = Passport.authenticate('jwt', passportOptions);\n\nWorkRouter.get('/', checkForToken, getWork);\nWorkRouter.post('/', checkForToken, createWork);\nWorkRouter.put('/:id', updateWork);\nWorkRouter.delete('/:id', deleteWork);\nWorkRouter.get('/:id', getWorkById);\n\nmodule.exports = WorkRouter;"]}